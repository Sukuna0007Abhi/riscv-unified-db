<% unless db_obj.cert_normative_rules.empty? -%>
<% nice_name = db_obj.is_a?(Udb::CsrField) ? "#{db_obj.parent.name}.#{db_obj.name}" : db_obj.name -%>
<% if defined?(use_description_list) && use_description_list -%>
Normative Rules for `<%= nice_name %>`: ::
<% else -%>
==== Normative Rules for `<%= nice_name %>`
<% end -%>

[cols="15%,15%,70%"]
|===
| ID | Description | Normative Rule Excerpts

<% db_obj.cert_normative_rules.each do |nr| -%>
| <%= defined?(fmt) ? anchor_for_udb_doc_norm_rule(fmt, nr.id) : "" %><%= nr.id %>
| <%= nr.description %>
<% if nr.doc_links.empty? -%>
|
<% else # some doc_links -%>
<% some_not_found = false -%>
a|
<% if normative_rule_tags.tags_available? -%>
[cols="10%,7%,83%"]
!===
! Doc ! Chap ! Excerpt

<% nr.doc_links.each do |doc_link| -%>
! <%= doc_link.to_doc_name(normative_rule_tags) %>
! <%= doc_link.to_section(normative_rule_tags) %>
! <%= doc_link.to_excerpt(normative_rule_tags) %>
<% if doc_link.missing_normative_rule_tag?(normative_rule_tags) then -%>
<%   warn "Error: Normative rule tag #{doc_link.link_name} for #{db_obj.kind} '#{nice_name}' missing from standards documentation" -%>
<%   some_not_found = true -%>
<% end # missing -%>
<% end # do each doc_link -%>
<% raise "Exiting due to one or more normative rule tags not found" if some_not_found -%>
!===
<% else # tags not available -%>
link name ='<%= doc_link.link_name %>'
<% end # tags not available -%>
<% end # if doc_links.empty? -%>
<% end # each normative rule -%>
|===

<% end # unless no normative rules -%>
