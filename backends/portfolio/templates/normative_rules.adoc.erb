<% unless db_obj.cert_normative_rules.empty? -%>
<% nice_name = db_obj.is_a?(Udb::CsrField) ? "#{db_obj.parent.name}.#{db_obj.name}" : db_obj.name -%>
<% if defined?(use_description_list) && use_description_list -%>
Normative Rules for `<%= nice_name %>`: ::
<% else -%>
==== Normative Rules for `<%= nice_name %>`
<% end -%>

[%autowidth]
|===
| ID | Description | Normative Rule Excerpts

<% db_obj.cert_normative_rules.each do |nr| -%>
| <%= defined?(fmt) ? anchor_for_udb_doc_norm_rule(fmt, nr.id) : "" %><%= nr.id %>
| <%= nr.description %>
<% if nr.doc_links.empty? -%>
|
<% else # some doc_links -%>
<% some_not_found = false -%>
a|
<% if normative_rule_tags.tags_available? -%>
!===
! Manual ! Section ! Excerpt

<% nr.doc_links.each do |doc_link| -%>
<% norm_rule_tag = normative_rule_tags.get_norm_rule_tag(doc_link.link_name) -%>
<% if norm_rule_tag.nil? -%>
<%   warn "Error: Can't find normative rule tag #{doc_link.link_name} that should be in an ISA manual" -%>
<%   some_not_found = true -%>
<% else # norm_rule_tag found -%>
! <% norm_rule_tag.doc_name %>
! TBD
! <% doc_link.to_adoc(norm_rule_tag) %>
<% end # if norm_rule_tag.nil? -%>
<% end # do each doc_link -%>
<% raise "Exiting due to one or more normative rule tags not found" if some_not_found -%>
!===
<% else # tags not available -%>
link name ='<%= doc_link.link_name %>'
<% end # tags not available -%>
<% end # if doc_links.empty? -%>
<% end # each normative rule -%>
|===

<% end # unless no normative rules -%>
