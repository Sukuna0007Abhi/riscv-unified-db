# Copyright (c) Qualcomm Technologies, Inc. and/or its subsidiaries.
# SPDX-License-Identifier: BSD-3-Clause-Clear

# yaml-language-server: $schema=../../../../schemas/csr_schema.json

$schema: "csr_schema.json#"
kind: csr
name: hip
long_name: Hypervisor Interrupt Pending
address: 0x644
writable: true
priv_mode: M
length: 64
definedBy: H
description: |
  The `hip` CSR provides a hypervisor view of pending interrupts. 
  It contains interrupt-pending bits for virtual supervisor interrupts and guest external interrupts.

  This register serves as the primary interface for hypervisors to manage interrupts destined for virtual machines.

fields:
  VSSIP:
    location: 2
    alias: mip.VSSIP
    description: |
      *Virtual Supervisor Software Interrupt Pending*

      Reports the current pending state of a VS-mode software interrupt.

      This field is an alias of `mip.VSSIP`.
    type: RW
    reset_value: 0
    definedBy: H
  VSTIP:
    location: 6
    alias: mip.VSTIP
    description: |
      *Virtual Supervisor Timer Interrupt Pending*

      Reports the current pending state of a VS-mode timer interrupt.

      <%- if ext?(:Sstc) -%>
      When the Sstc extension is implemented and enabled, this field represents the logical OR of the hypervisor-injected interrupt (`hvip.VSTIP`) and the timer-generated interrupt (controlled by `vstimecmp`).
      <%- else -%>
      This field is controlled entirely by hypervisor software through `hvip.VSTIP`.
      <%- end -%>

      This field is an alias of `mip.VSTIP`.
    type: RO-H
    reset_value: 0
    definedBy: H
    affectedBy: Sstc
  VSEIP:
    location: 10
    alias: mip.VSEIP
    description: |
      *Virtual Supervisor External Interrupt Pending*

      Reports the current pending state of a VS-mode external interrupt.

      This field is the logical OR of the hypervisor-injected interrupt (`hvip.VSEIP`) and the signal from the external interrupt controller.

      This field is an alias of `mip.VSEIP`.
    type: RO-H
    reset_value: 0
    definedBy: H
  SGEIP:
    location: 12
    alias: mip.SGEIP
    description: |
      *Supervisor Guest External Interrupt Pending*

      Read-only summary of any pending Supervisor Guest External Interrupt Pending.
      This field is the logical-OR reduction of the `hgeip` register.

      This field is an alias of `mip.SGEIP`.
    type: RO-H
    reset_value: 0
    definedBy: H